$(document).ready(function() {
    var count = $('#count_sample_details').val();

    $('.add_sample_detail').click(function() {
        count++;
        $('#count_sample_details').val(count);

        var newRow = `
            <tr>
                <td>
                    <input type="text" name="sample_details[${count}][sample_identification_no]" class="form-control" required>
                </td>
                <td>
                    <input type="date" name="sample_details[${count}][date_of_collection]" class="form-control" required>
                </td>
                <td>
                    <input type="time" name="sample_details[${count}][time_of_collection]" class="form-control" required>
                </td>
                <td>
                    <input type="number" name="sample_details[${count}][temperature_upon_collection]" class="form-control">
                </td>
                <td>
                    <input type="text" name="sample_details[${count}][sample_type_or_outlet]" class="form-control">
                </td>
                <td>
                    <input type="text" name="sample_details[${count}][location_details]" class="form-control">
                </td>
                <td>
                    <input type="text" name="sample_details[${count}][sender_initials]" class="form-control">
                </td>
                <td>
                    <textarea name="sample_details[${count}][additional_information]" class="form-control"></textarea>
                </td>
                <td>
                    <button type="button" class="btn btn-danger btn-sm delete_sample_detail">
                        <i class="fa fa-trash"></i>
                    </button>
                </td>
            </tr>
        `;

        $('.sample_details tbody').append(newRow);
    });

    $(document).on('click', '.delete_sample_detail', function() {
        $(this).closest('tr').remove();
    });
});
